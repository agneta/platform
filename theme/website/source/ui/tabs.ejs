<%
  var tabs = uiTabs();
  if(!tabs.name){
    throw new Error('Must have a tab name');
  }
  var tab = `tabs['${tabs.name}']`;
  var defaultSection = locals.default||tabs.templates[0].name;
  page.__templates = page.__templates || [];
%>

<div ag-tabs name="<%-tabs.name%>" ng-init="activeSection='<%-defaultSection%>'" layout="column">
  <div
  <%-tabs.attrId%>
  class="layout-wrap ui-tabs"
  layout="row"
  layout-align="<%-tabs.align%> center">
    <%for(var section of tabs.templates){
      var show = null;
      if(section.skip){
        continue;
      }
      if(section.show){
        show=`ng-show="${section.show}"`;
      }

      page.__templates.push({
        id: `ui-${tabs.name}-${section.name}.html`,
        path: section.path,
        data: section.data
      });

      %>
      <div
      class="item"
      ng-class="{active:activeSection=='<%-section.name%>'}"
      ng-click="select('<%-section.name%>')"
      <%-show%>
      >
        <%-lng(section.title)%>
      </div>
      <%}%>
  </div>
  <div ng-include="'ui-<%-tabs.name%>-'+activeSection+'.html'">
  </div>
</div>
